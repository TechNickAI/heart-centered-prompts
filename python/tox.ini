[tox]
envlist = py3{10,11,12,13}
isolated_build = True
skip_missing_interpreters = True

[testenv]
description = Run tests with pytest
extras = test
commands =
    pytest {posargs}

[testenv:lint]
description = Run linting with ruff
extras = dev
commands =
    ruff check .

[testenv:build]
description = Build package and verify
extras = dev
commands =
    python -m build
    python -c "from setuptools_scm import get_version; print(f'Version: {get_version(root=\"..\")}')"
